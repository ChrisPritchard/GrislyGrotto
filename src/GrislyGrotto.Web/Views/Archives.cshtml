@model Tuple<Tuple<int, Tuple<string, int>[]>[], Post[]>

@{
    ViewBag.Title = "Archives";
}

<div class="archives">
    <h1>Archives</h1>
    <ul>
        @foreach (var year in Model.Item1)
        {
            <li class="year">
                <h2>@year.Item1</h2>
                <ul>
                    @foreach (var month in year.Item2)
                    {
                        <li>
                            <a asp-action="Month" asp-route-month="@month.Item1" asp-route-year="@year.Item1">@month.Item1 (@month.Item2)</a>
                        </li>
                    }
                </ul>
            </li>
        }
    </ul>

    <div class="clear"></div>

    <h2>Stories</h2>
    <ul>
        @foreach (var story in Model.Item2)
        {
            <li>
                <article class="centred">
                    <h2 class="post-title">
                        <a asp-action="Single" asp-route-key="@story.Key">@story.Title (@story.WordCount words)</a>
                    </h2>
                    <div class="post-info">
                        Posted by @story.Author.DisplayName on <span>@story.DateFormatted</span>.
                    </div>
                </article>
            </li>
        }
    </ul>
</div>