{{ define "content" }}
<h2 class="post-title">{{ .Post.Title }}</h2>
<span class="post-summary">Posted by {{ .Post.Author }} at {{ formatDate .Post.Date }}.</span>
<div class="post-content">
    {{ render .Post.Content }}
</div>
<div class="post-controls">
    {{ if .OwnBlog }}
        <form method="GET" action="/editor/{{ .Post.Key }}">
            <input type="submit" value="Edit" />
        </form>
        <form method="POST" action="/delete-post/{{ .Post.Key }}">
            <input type="submit" value="Delete" class="confirm-click" />
        </form>
    {{ end }}
</div>
<h2 id="comments">Comments</h2>
{{ range .Post.Comments }}
<div>
    <div class="comment-summary">Commented by {{ .Author }} at {{ formatDate .Date }}:</div>
    <div class="comment-content">
        {{ .Content }}
    </div>
    {{ if $.OwnBlog }}
        <form class="comment-delete" method="POST" action="/delete-comment/{{ .ID }}?postKey={{ $.Post.Key }}">
            <input type="submit" value="Delete" class="confirm-click" />
        </form>
    {{ end }}
</div>
{{ end }}
{{ if .CanComment }}
<form method="POST" class="create-comment-container">
    <label for="author">Author</label>
    <input type="text" id="author" name="author" />
    <label for="content">Content</label>
    <textarea rows="3" cols="50" id="content" name="content"></textarea>
    <input type="submit" value="Comment" />
    <span class="error">{{ .CommentError }}</span>
</form>
{{ end }}
{{ end }}