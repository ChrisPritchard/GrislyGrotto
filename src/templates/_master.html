{{define "master"}}
<!DOCTYPE html>
<html>
    <head>
        <title>The Grisly Grotto - {{ page }}</title>
        <link href="/static/site.css" rel="stylesheet" />
        <meta charset="utf-8" />
        <meta name="description" content="Personal blog site of Chris Pritchard and Peter Coleman" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="application-name" content="The Grisly Grotto" />
        <link rel="icon" type="image/png" href="/static/favicon.png" />
    </head>
    <body>
        <canvas class="background" id="background"></canvas>
        <div class="site-container">
            <header>
                <a href="/"><h1 class="site-title">The Grisly Grotto</h1></a>
            </header>
            <nav>
                {{ if and (loggedIn) (ne (page) "New Post") }}
                    <a href="/editor">New Post</a>
                    <span>&nbsp;|&nbsp;</span>
                {{ else if and (not loggedIn) (ne (page) "Login") }}
                    <a href="/login">Login</a>
                    <span>&nbsp;|&nbsp;</span>
                {{ end }}
                {{ if (ne (page) "Archives") }}
                    <a href="/archives">Archives</a>
                    <span>&nbsp;|&nbsp;</span>
                {{ end }}
                {{ if (ne (page) "Search") }}
                    <a href="/search">Search</a>
                    {{ if (ne (page) "About") }}
                        <span>&nbsp;|&nbsp;</span>
                    {{ end }}
                {{ end }}
                {{ if (ne (page) "About") }}
                    <a href="/about">About</a>
                {{ end }}
            </nav>
            <div class="control-panel">
                <label class="controls">
                    Show Background Animation&nbsp;
                    <input type="checkbox" id="vis-enabled" checked=checked />
                </label>
            </div>
            {{template "content" .}}
            <footer>
                Grisly Grotto v17.0. Site designed and coded by Christopher Pritchard, 2020
            </footer>
        </div>
        <script src="/static/wandering-triangles.js"></script>
        <script src="/static/site.js"></script>
    </body>
</html>
{{end}}